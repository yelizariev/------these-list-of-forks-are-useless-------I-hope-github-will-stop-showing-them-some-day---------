# SOME DESCRIPTIVE TITLE.
# Copyright (C) Odoo S.A.
# This file is distributed under the same license as the odoo package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2020.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: odoo 13.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2020-01-07 15:02+0500\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.3.4\n"

#: ../../python3.rst:5
msgid "Python 3 compatibility/conversions"
msgstr ""

#: ../../python3.rst:7
msgid ""
"Official compatibility: Odoo 11 will be the first LTS release to "
"introduce Python 3 compatibility, starting with Python 3.5. It will also "
"be the first LTS release to drop official support for Python 2."
msgstr ""

#: ../../python3.rst:11
msgid ""
"Rationale: Python 3 has been around since 2008, and all Python libraries "
"used by the official Odoo distribution have been ported and are "
"considered stable. Most supported platforms have a Python 3.5 package, or"
" a similar way to deploy it. Preserving dual compatibility is therefore "
"considered unnecessary, and would represent a significant overhead in "
"testing for the lifetime of Odoo 11."
msgstr ""

#: ../../python3.rst:18
msgid ""
"Python 2 and Python 3 are somewhat different language, but following "
"backports, forward ports and cross-compatibility library it is possible "
"to use a subset of Python 2 and Python 3 in order to have a system "
"compatible with both."
msgstr ""

#: ../../python3.rst:23
msgid ""
"Here are a few useful steps or reminders to make Python 2 code compatible"
" with Python 3."
msgstr ""

#: ../../python3.rst:28
msgid ""
"This is not a general-purpose guide for porting Python 2 to Python 3, "
"it's a guide to write 2/3-compatible Odoo code. It does not go through "
"all the changes in Python but rather through issues which have been found"
" in the standard Odoo distribution in order to show how to evolve such "
"code such that it works on both Python 2 and Python 3."
msgstr ""

#: ../../python3.rst:34
msgid "References/useful documents:"
msgstr ""

#: ../../python3.rst:36
msgid ""
"`What's new in Python 3? "
"<https://docs.python.org/3.0/whatsnew/3.0.html>`_ covers many of the "
"changes between Python 2 and Python 3, though it is missing a number of "
"changes which `were backported to Python 2.7 "
"<https://docs.python.org/2.7/whatsnew/2.7.html#python-3-1-features>`_ as "
"well as :ref:`some feature reintroductions <p3support>` of later Python 3"
" revisions"
msgstr ""

#: ../../python3.rst:41
msgid ""
"`How do I port to Python 3? <https://eev.ee/blog/2016/07/31/python-faq-"
"how-do-i-port-to-python-3/>`_"
msgstr ""

#: ../../python3.rst:42
msgid "`Python-Future <http://python-future.org/index.html>`_"
msgstr ""

#: ../../python3.rst:43
msgid ""
"`Porting Python 2 code to Python 3 "
"<https://docs.python.org/3/howto/pyporting.html>`_"
msgstr ""

#: ../../python3.rst:44
msgid ""
"`Porting to Python 3: A Guide <http://lucumr.pocoo.org/2010/2/11/porting-"
"to-python-3-a-guide/>`_ (a bit outdated but useful for the extensive "
"comments on strings and IO)"
msgstr ""

#: ../../python3.rst:49
msgid "Versions Support"
msgstr ""

#: ../../python3.rst:51
msgid ""
"A cross compatible Odoo would only support Python 2.7 and Python 3.5 and "
"above: Python 2.7 backported some Python 3 features, and Python 2 "
"features were reintroduced in various Python 3 in order to make "
"conversion easier. Python 3.6 adds great features (f-strings, ...) and "
"performance improvements (ordered compact dicts) but does not seem to "
"reintroduce compatibility features whereas:"
msgstr ""

#: ../../python3.rst:58
msgid "Python 3.5 reintroduced ``%`` for bytes/bytestrings (:pep:`461`)"
msgstr ""

#: ../../python3.rst:59
msgid ""
"Python 3.4 has no specific compatibility improvement but is the lowest P3"
" version for PyLint"
msgstr ""

#: ../../python3.rst:61
msgid "Python 3.3 reintroduced the \"u\" prefix for proper (unicode) strings"
msgstr ""

#: ../../python3.rst:62
msgid ""
"Python 3.2 made ``range`` views more list-like (backported to 2.7)and "
"reintroduced ``callable``"
msgstr ""

#: ../../python3.rst:67
msgid "Semantics changes"
msgstr ""

#: ../../python3.rst:70
msgid "Dict & set iteration order (\"Hash Randomisation\")"
msgstr ""

#: ../../python3.rst:72
msgid ""
"In Python 2, the iteration order depends on the value's hash (modulo the "
"collection's capacity and conflict resolution), which provides a spec-"
"undefined but implementation-defined order. While that's not supposed to "
"happen, it turns out code may depend on the specific order of iteration "
"over a hash collection (``dict`` or ``set``)."
msgstr ""

#: ../../python3.rst:78
msgid ""
"Python 3.3 enables `hash randomisation`_ by default (this can be "
"optionally enabled on previous versions including Python 2 by providing "
"the ``-R`` command-line parameter), which means *the order of iteration "
"changes from one run to the next*."
msgstr ""

#: ../../python3.rst:83
msgid "When discovered, this can be fixed by one of:"
msgstr ""

#: ../../python3.rst:85
msgid ""
"making iteration steps properly independent (removing the dependency of "
"order of iteration)"
msgstr ""

#: ../../python3.rst:87
msgid ""
"using different checking method (e.g. when serialising sets or "
"dictionaries and checking against the specific serialised value)"
msgstr ""

#: ../../python3.rst:89
msgid "fixing dependencies"
msgstr ""

#: ../../python3.rst:90
msgid ""
"using a ``collections.OrderedDict`` or ``odoo.tools.misc.OrderedSet`` "
"instead of a regular one, they guarantee order of iteration is order of "
"insertion"
msgstr ""

#: ../../python3.rst:92
msgid ""
"sorting the collection's items before iterating over them (this may "
"require adding some sort of iteration key to the items)"
msgstr ""

#: ../../python3.rst:96
msgid "Moved and removed"
msgstr ""

#: ../../python3.rst:99
msgid "Standard Library Modules"
msgstr ""

#: ../../python3.rst:101
msgid ""
"Python 3 reorganised, moved or removed a number of modules in the "
"standard library:"
msgstr ""

#: ../../python3.rst:104
msgid ""
"``StringIO`` and ``cStringIO`` were removed, you can use ``io.BytesIO`` "
"and ``io.StringIO`` to replace them in a cross-version manner "
"(``io.BytesIO`` for binary data, ``io.StringIO`` for text/unicode data)."
msgstr ""

#: ../../python3.rst:107
msgid ""
"``urllib``, ``urllib2`` and ``urlparse`` were redistributed across "
"``urllib.parse`` and ``urllib.request``."
msgstr ""

#: ../../python3.rst:110
msgid ""
"Since `requests`_ and `werkzeug`_ are already hard dependencies of Odoo, "
"replace ``urllib[2].urlopen``/``urllib2.Request`` uses by `requests`_, "
"and ``urlparse`` and a few utilty functions (``urllib.quote``, "
"``urllib.urlencode``) are available through ``werkzeug.urls``, a backport"
" of Python 3's ``urllib.parse``."
msgstr ""

#: ../../python3.rst:116
msgid "`requests`_ does not raise by default on non-200 responses"
msgstr ""

#: ../../python3.rst:118
msgid ""
"``cgi.escape`` (HTML escaping) is deprecated in Python 3, prefer Odoo's "
"own :func:`odoo.tools.misc.html_encode`."
msgstr ""

#: ../../python3.rst:120
msgid ""
"Most of ``types``'s content has been stripped out in Python 3: only "
"\"internal\" interpreter types (e.g. CodeType, FrameType, ...) have been "
"left in, other types can be obtained directly from the corresponding "
"builtin or by getting the ``type()`` of a literal value."
msgstr ""

#: ../../python3.rst:126
msgid "Absolute Imports (:pep:`328`)"
msgstr ""

#: ../../python3.rst:130
msgid ""
"In Python 3, ``import foo`` can only import from a \"top-level\" library "
"(absolute path). If trying to import a sibling or sub-module you *must* "
"use an explicitly *relative import* e.g. ``from . import foo`` or ``from "
".foo import bar``."
msgstr ""

#: ../../python3.rst:135
msgid ""
"In Python 2 ``import`` statements are ambiguous: if a file ``a.py`` "
"contains ``import b``, the import system will first check if there's a "
"``b.py`` file next to it before checking if there is a package called "
"that on the PYTHONPATH."
msgstr ""

#: ../../python3.rst:140
msgid ""
"Furthermore if a sibling file is named the same as top-level package, the"
" library becomes inaccessible to both the file itself ans siblings, this "
"has actually happened in Odoo with :mod:`odoo.tools.mimetypes`."
msgstr ""

#: ../../python3.rst:144
msgid ""
"Additionally, relative imports allow navigating \"up\" the tree by using "
"multiple leading ``.``."
msgstr ""

#: ../../python3.rst:149
msgid ""
"Explicitly relative imports are always available in Python 2, and should "
"be used everywhere."
msgstr ""

#: ../../python3.rst:152
msgid ""
"You can ensure you are not using any implicitly relative import by adding"
" ``from __future__ import absolute_import`` at the top of your files, or "
"by running the ``relative-import`` PyLint."
msgstr ""

#: ../../python3.rst:157
msgid "Exception Handlers"
msgstr ""

#: ../../python3.rst:161
msgid ""
"All exception handlers must be converted to ``except ... as ..``. Valid "
"forms are::"
msgstr ""

#: ../../python3.rst:169
msgid "In Python 2, ``except`` statements are of the form::"
msgstr ""

#: ../../python3.rst:173 ../../python3.rst:188
msgid "or::"
msgstr ""

#: ../../python3.rst:177
msgid ""
"But because the name is optional, this gets confusing and people can "
"stumble into the first form when trying for the second and write::"
msgstr ""

#: ../../python3.rst:182
msgid "which will *not* yield the expected result."
msgstr ""

#: ../../python3.rst:184
msgid "Python 3 changes this syntax to::"
msgstr ""

#: ../../python3.rst:192
msgid ""
"This form was implemented in Python 2.5 and is thus compatible across the"
" board."
msgstr ""

#: ../../python3.rst:196
msgid "Operators & keywords"
msgstr ""

#: ../../python3.rst:198
msgid ""
"The backtick operator ```foo``` must be converted to an explicit call to "
"the ``repr()`` builtin"
msgstr ""

#: ../../python3.rst:201
msgid "The ``<>`` operator must be replaced by ``!=``"
msgstr ""

#: ../../python3.rst:203
msgid ""
"These two operators were long recommended against/deprecated in Python 2,"
" Python 3 removed them from the language."
msgstr ""

#: ../../python3.rst:208
msgid "``exec`` is now a builtin"
msgstr ""

#: ../../python3.rst:210
msgid ""
"In Python 2, ``exec`` is a statement/keyword. Much like ``print``, it's "
"been converted to a builtin function in Python 3. However because the "
"Python 2 version can take a tuple parameter it is easy to convert the odd"
" ``exec`` statement to the following cross-language forms::"
msgstr ""

#: ../../python3.rst:220
msgid "List/iteration builtins and methods"
msgstr ""

#: ../../python3.rst:222
msgid ""
"In Python 3, a number of builtins and methods formerly returning *lists* "
"were converted to return *iterators* or *views*, with the corresponding "
"redundant methods or functions having been *removed entirely*:"
msgstr ""

#: ../../python3.rst:226
msgid ""
"In Python 3, ``map``, ``filter`` and ``zip`` return iterators, "
"``itertools.imap``, ``itertools.ifilter`` and ``itertools.izip`` have "
"been removed."
msgstr ""

#: ../../python3.rst:232
msgid ""
"When possible, use comprehensions (list, generator, ...) rather than "
"``map`` or ``filter``."
msgstr ""

#: ../../python3.rst:235
msgid ""
"In Python 3, ``dict.keys``, ``dict.values`` and ``dict.items`` return "
"*views* rather than lists, and the ``iter*`` and ``view*`` methods have "
"been removed."
msgstr ""

#: ../../python3.rst:241
msgid ""
"When the result of the above methods is used for more than a one-shot "
"loop (e.g. to be included in returned value), or when the dict needs to "
"be modified during iteration, wrap the calls in a ``list()``."
msgstr ""

#: ../../python3.rst:246
msgid "builtins"
msgstr ""

#: ../../python3.rst:249
msgid "``cmp``"
msgstr ""

#: ../../python3.rst:251
msgid "The ``cmp`` builtin function has been removed from Python 3."
msgstr ""

#: ../../python3.rst:253
msgid ""
"Most of its uses are in ``cmp=`` parameters to sort functions where it "
"can usually be replaced by a key function."
msgstr ""

#: ../../python3.rst:255
msgid ""
"Other uses found were obtaining the sign of an item (``cmp(item, 0)``), "
"this can be replicated using the standard library's ``math.copysign`` "
"e.g. ``math.copysign(1, item)`` will return ``1.0`` if ``item`` is "
"positive and ``-1.0`` if ``item`` is negative."
msgstr ""

#: ../../python3.rst:261
msgid "``execfile``"
msgstr ""

#: ../../python3.rst:263
msgid ""
"``execfile(path)`` has been removed completely from Python 3 but it is "
"trivially replaceable in all cases by::"
msgstr ""

#: ../../python3.rst:268
msgid "of a variant thereof (see :ref:`exec changes <changed-exec>` for details)"
msgstr ""

#: ../../python3.rst:271
msgid "``file``"
msgstr ""

#: ../../python3.rst:273
msgid ""
"The ``file`` builtin has been removed in Python 3. Generally, it can just"
" be replaced by the ``open`` builtin, although you may want to use "
"``io.open`` which is more flexible and better handles the binary/text "
"dichotomy, :ref:`a big issue in cross-version Python <changed-strings>`."
msgstr ""

#: ../../python3.rst:280
msgid "In Python 3, the ``open`` builtin is actually an alias for ``io.open``."
msgstr ""

#: ../../python3.rst:283
msgid "``long``"
msgstr ""

#: ../../python3.rst:285
msgid ""
"In Python 2, integers can be either ``int`` or ``long``. Python 3 unifies"
" this under the single ``int`` type."
msgstr ""

#: ../../python3.rst:290
msgid "the ``L`` suffix for integer literals must be removed"
msgstr ""

#: ../../python3.rst:291
msgid "calls to ``long`` must be replaced by calls to ``int``"
msgstr ""

#: ../../python3.rst:294
msgid ""
"the ``L`` suffix on numbers is unsupported in Python 3, and unnecessary "
"in Python 2 as \"overflowing\" integer literals will implicitly "
"instantiate long."
msgstr ""

#: ../../python3.rst:296
msgid ""
"in Python 2, a call to ``int()`` will implicitly create a ``long`` object"
" if necessary."
msgstr ""

#: ../../python3.rst:298
msgid ""
"type-testing is the last and bigger issue as in Python 2 ``long`` is not "
"a subtype of ``int`` (nor the reverse), and ``isinstance(value, (int, "
"long))`` is thus generally necessary to catch all integrals."
msgstr ""

#: ../../python3.rst:303
msgid "``reduce``"
msgstr ""

#: ../../python3.rst:305
msgid ""
"In Python 3, ``reduce`` has been demoted from builtin to "
"``functools.reduce``. However this is because *most uses of ``reduce`` "
"can be replaced by ``sum``, ``all``, ``any``* or a list comprehension for"
" a more readable and faster result."
msgstr ""

#: ../../python3.rst:310
msgid ""
"It is easy enough to just add ``from functools import reduce`` to the "
"file and compatible with Python 2.6 and later, but consider whether you "
"get better code by replacing it with some other method altogether."
msgstr ""

#: ../../python3.rst:315
msgid "``xrange``"
msgstr ""

#: ../../python3.rst:317
msgid "In Python 3, ``range()`` behaves the same as Python 2's ``xrange``."
msgstr ""

#: ../../python3.rst:319
msgid ""
"For cross-version code, you can just use ``range()`` everywhere: while "
"this will incur a slight allocation cost on Python 2, Python 3's "
"``range`` supports the entire Sequence protocol and thus behaves very "
"much like a regular list or tuple."
msgstr ""

#: ../../python3.rst:325
msgid "Removed/renamed methods"
msgstr ""

#: ../../python3.rst:329
msgid ""
"the ``has_key`` method on dicts must be replaced by use of the ``in`` "
"operator e.g. ``foo.has_key(bar)`` becomes ``bar in foo``."
msgstr ""

#: ../../python3.rst:332
msgid ""
"``in`` for dicts was introduced in Python 2.3, leading to ``has_key`` "
"being redundant, and removed in Python 3."
msgstr ""

#: ../../python3.rst:336
msgid "Minor syntax changes"
msgstr ""

#: ../../python3.rst:338
msgid ""
"the ability to unpack a parameter (in the parameter declaration list) has"
" been removed in Python 3 e.g.::"
msgstr ""

#: ../../python3.rst:344
msgid "is now invalid"
msgstr ""

#: ../../python3.rst:346
msgid ""
"octal literals must be prefixed by ``0o`` (or ``0O``). Following the C "
"family, in Python 2 an octal literal simply has a leading 0, which can be"
" confusing and easy to get wrong when e.g. padding for readability (e.g. "
"``0013`` would be the decimal 11 rather than 13)."
msgstr ""

#: ../../python3.rst:351
msgid ""
"In Python 3, leading zeroes followed by neither a 0 nor a period is an "
"error, octal literals now follow the hexadecimal convention with a ``0o``"
" prefix."
msgstr ""

#: ../../python3.rst:358
msgid "Bytes/String/Text: The Big One"
msgstr ""

#: ../../python3.rst:360
msgid ""
"The most impactful Python 3 change by far is to the text model: for "
"historical reasons the distinction Python 2's bytestrings "
"(``bytes``/``str``) and text strings (``unicode``) is fuzzy and it will "
"try to implicitly convert between one and the other using the ASCII "
"encoding."
msgstr ""

#: ../../python3.rst:365
msgid ""
"Python 3 changes this, it removes the implicit conversions, removes APIs "
"which contribute to the fuzz and tends to strictly segregate other to "
"work on either bytes or text."
msgstr ""

#: ../../python3.rst:369
msgid ""
"This is fundamentally good and mostly sensible, but it means lots of "
"breakage:"
msgstr ""

#: ../../python3.rst:372
msgid "the builtins"
msgstr ""

#: ../../python3.rst:374
msgid ""
"Python 3 removes both ``unicode`` and ``basestring``, and ``str`` now "
"corresponds to *text* strings (the old ``unicode``) with ``bytes`` being "
"bytestrings in both languages [#bytes]_."
msgstr ""

#: ../../python3.rst:378
msgid "Both versions have the following prefixes for string literals:"
msgstr ""

#: ../../python3.rst:380
msgid "``b'foo'`` is a bytestring (``bytes`` object)."
msgstr ""

#: ../../python3.rst:382
msgid ""
"``'foo'`` is that version's ``str`` type, which may be either a "
"bytestring or a text string [#native-string]_."
msgstr ""

#: ../../python3.rst:385
msgid "``u'foo'`` is that version's text string."
msgstr ""

#: ../../python3.rst:387
msgid ""
"For best cross-version compatibility you should avoid unprefixed string "
"literals unless you *specifically* need a \"native string\" [#native-"
"string]_."
msgstr ""

#: ../../python3.rst:391
msgid "``open``"
msgstr ""

#: ../../python3.rst:395
msgid ""
"the ``open`` builtin should always be explicitly used in binary mode "
"(``rb``, ``wb``, ...)"
msgstr ""

#: ../../python3.rst:398
msgid "To read *text* files, use ``io.open``."
msgstr ""

#: ../../python3.rst:400
msgid ""
"On both P2 and P3, ``open`` defaults to returning *native strings* in "
"default (\"text\") mode, however in P3 that means it actually decodes the"
" file's bytes using whatever encoding was set up (default: UTF-8) while "
"on Python 2 it has no concept of encoding."
msgstr ""

#: ../../python3.rst:405
msgid ""
"Using ``open`` in binary mode provides bytestrings on both versions and "
"works fine. To read *text* files, use ``io.open`` and provide an explicit"
" encoding."
msgstr ""

#: ../../python3.rst:409
msgid "base64"
msgstr ""

#: ../../python3.rst:411
msgid ""
"base64 is a bytes->bytes conversion. bytes->bytes codecs were removed "
"from the \"native\" encoding/decoding system which is now exclusively for"
" bytes<->text conversions: text is *encoded* to bytes and bytes are "
"*decoded* to text."
msgstr ""

#: ../../python3.rst:417
msgid ""
"both ``bytes.encode('base64')`` and ``bytes.decode('base64')`` must be "
"migrated to using ``base64.b64encode`` and ``base64.b64decode`` "
"respectively."
msgstr ""

#: ../../python3.rst:422
msgid "csv"
msgstr ""

#: ../../python3.rst:424
msgid ""
"``csv`` is a fairly vicious one: not only is it not a very good format, "
"the Python 2 and Python 3 versions of the library are text-model "
"incompatible in significant ways:"
msgstr ""

#: ../../python3.rst:428
msgid ""
"Python 2's CSV only works on *ascii-compatible byte streams* (it has no "
"encoding support at all) and extracts bytestring values"
msgstr ""

#: ../../python3.rst:430
msgid "Python 3's CSV only works on *text streams* and extract text values"
msgstr ""

#: ../../python3.rst:431
msgid "And ``io`` doesn't provide \"native string\" streaming facilities."
msgstr ""

#: ../../python3.rst:433
msgid ""
"However with respect to Odoo it turns out most or all uses of ``csv`` fit"
" inside a model of *byte stream to and from text values*."
msgstr ""

#: ../../python3.rst:436
msgid ""
"The latter is thus a model implemented by cross-version wrappers "
":func:`odoo.tools.pycompat.csv_reader` and "
":func:`odoo.tools.pycompat.csv_writer`: they take a *UTF-8 byte stream* "
"and read or write *text* values."
msgstr ""

#: ../../python3.rst:449
msgid ""
"with the caveat that Python 3 makes them less text-y and more byte-y e.g."
" in Python 2 ``b\"foo\"[0]`` is ``b\"f\"``, but in Python 3 it's ``102`` "
"(the value of the first byte), you'll want to *slice* bytestrings for "
"compatibility."
msgstr ""

#: ../../python3.rst:456
msgid ""
"this is important because some API/contexts take a *native string* rather"
" than either bytes or text. The ``csv`` module of the standard library is"
" one such problematic API (it is also notoriously problematic for its "
"terrible support of non-ascii-compatible encodings in Python 2). "
"``email.message_from_string`` is an other one."
msgstr ""

